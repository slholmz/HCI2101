<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù„Ø¹Ø¨Ø© XO | Ø¥ÙƒØ³ Ø£Ùˆ</title>

<style>
    :root {
        --primary: #4f46e5;
        --secondary: #22c55e;
        --bg: #f4f6fb;
        --card: #ffffff;
        --text: #1f2937;
        --danger: #ef4444;
    }

    * {
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, sans-serif;
    }

    body {
        margin: 0;
        background: linear-gradient(135deg, #6366f1, #22c55e);
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: var(--text);
    }

    .screen {
        background: var(--card);
        border-radius: 16px;
        padding: 25px;
        width: 95%;
        max-width: 420px;
        box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        text-align: center;
    }

    h1 {
        margin-top: 0;
        color: var(--primary);
    }

    .field {
        margin-bottom: 12px;
        text-align: right;
    }

    .field label {
        font-size: 14px;
        margin-bottom: 4px;
        display: block;
    }

    .field input, .field select {
        width: 100%;
        padding: 10px;
        border-radius: 10px;
        border: 1px solid #ddd;
        font-size: 15px;
    }

    button {
        width: 100%;
        padding: 12px;
        border: none;
        border-radius: 12px;
        background: var(--primary);
        color: #fff;
        font-size: 16px;
        cursor: pointer;
        margin-top: 10px;
        transition: 0.3s;
    }

    button:hover {
        opacity: 0.9;
    }

    .game {
        display: none;
    }

    .info {
        margin-bottom: 15px;
        font-weight: bold;
        color: var(--secondary);
    }

    .board {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        margin: 20px 0;
    }

    .cell {
        background: var(--bg);
        border-radius: 12px;
        height: 90px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 48px;
        cursor: pointer;
        transition: 0.2s;
    }

    .cell:hover {
        background: #e0e7ff;
    }

    .cell.disabled {
        pointer-events: none;
    }

    .footer {
        position: fixed;
        bottom: 0;
        width: 100%;
        background: rgba(0,0,0,0.85);
        color: #fff;
        font-size: 12px;
        text-align: center;
        padding: 8px;
        line-height: 1.6;
    }

    @media (max-width: 480px) {
        .cell {
            height: 70px;
            font-size: 36px;
        }
    }
</style>
</head>

<body>

<!-- Start Screen -->
<div class="screen" id="startScreen">
    <h1>ğŸ® Ù„Ø¹Ø¨Ø© XO</h1>

    <div class="field">
        <label>ÙˆØ¶Ø¹ Ø§Ù„Ù„Ø¹Ø¨</label>
        <select id="mode">
            <option value="1">Ù„Ø§Ø¹Ø¨ ÙˆØ§Ø­Ø¯ (Ø¶Ø¯ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±)</option>
            <option value="2">Ù„Ø§Ø¹Ø¨ÙŠÙ†</option>
        </select>
    </div>

    <div class="field">
        <label>Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø£ÙˆÙ„</label>
        <input type="text" id="player1" placeholder="Ù…Ø«Ø§Ù„: ÙØ±Ø§Ø³">
    </div>

    <div class="field" id="player2Field" style="display:none;">
        <label>Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø«Ø§Ù†ÙŠ</label>
        <input type="text" id="player2" placeholder="Ù…Ø«Ø§Ù„: Ø£Ø­Ù…Ø¯">
    </div>

    <button onclick="startGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
</div>

<!-- Game Screen -->
<div class="screen game" id="gameScreen">
    <div class="info" id="infoText"></div>

    <div class="board" id="board"></div>

    <button onclick="resetGame()">ğŸ” Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨</button>
</div>

<!-- Footer -->
<div class="footer">
    Student Name: FERAS HESHAM ABDULLAH BURRAH (ÙØ±Ø§Ø³ Ù‡Ø´Ø§Ù… Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ø±Ù‡)<br>
    Student ID: 446009678<br>
    Supervised by: Mohammed Ahmed Jabali
</div>

<script>
    const modeSelect = document.getElementById("mode");
    const player2Field = document.getElementById("player2Field");

    modeSelect.addEventListener("change", () => {
        player2Field.style.display = modeSelect.value === "2" ? "block" : "none";
    });

    const boardElement = document.getElementById("board");
    const infoText = document.getElementById("infoText");

    let board = [];
    let currentPlayer = "X";
    let players = {};
    let gameMode = 1;
    let gameOver = false;

    function startGame() {
        const p1 = document.getElementById("player1").value || "Ø§Ù„Ù„Ø§Ø¹Ø¨ 1";
        const p2 = document.getElementById("player2").value || "Ø§Ù„Ù„Ø§Ø¹Ø¨ 2";

        gameMode = parseInt(modeSelect.value);

        players = {
            X: p1,
            O: gameMode === 2 ? p2 : "Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±"
        };

        board = Array(9).fill("");
        currentPlayer = "X";
        gameOver = false;

        document.getElementById("startScreen").style.display = "none";
        document.getElementById("gameScreen").style.display = "block";

        renderBoard();
        updateInfo();
    }

    function renderBoard() {
        boardElement.innerHTML = "";
        board.forEach((cell, index) => {
            const div = document.createElement("div");
            div.className = "cell" + (cell ? " disabled" : "");
            div.textContent = cell;
            div.onclick = () => makeMove(index);
            boardElement.appendChild(div);
        });
    }

    function makeMove(index) {
        if (board[index] || gameOver) return;

        board[index] = currentPlayer;
        renderBoard();

        if (checkWinner()) {
            infoText.textContent = `ğŸ‰ Ø§Ù„ÙØ§Ø¦Ø²: ${players[currentPlayer]}`;
            gameOver = true;
            return;
        }

        if (board.every(c => c)) {
            infoText.textContent = "ğŸ¤ ØªØ¹Ø§Ø¯Ù„!";
            gameOver = true;
            return;
        }

        currentPlayer = currentPlayer === "X" ? "O" : "X";
        updateInfo();

        if (gameMode === 1 && currentPlayer === "O") {
            setTimeout(computerMove, 500);
        }
    }

    function computerMove() {
        const emptyCells = board
            .map((v, i) => v === "" ? i : null)
            .filter(v => v !== null);

        const randomIndex = emptyCells[Math.floor(Math.random() * emptyCells.length)];
        makeMove(randomIndex);
    }

    function checkWinner() {
        const wins = [
            [0,1,2],[3,4,5],[6,7,8],
            [0,3,6],[1,4,7],[2,5,8],
            [0,4,8],[2,4,6]
        ];
        return wins.some(combo =>
            combo.every(i => board[i] === currentPlayer)
        );
    }

    function updateInfo() {
        infoText.textContent = `Ø§Ù„Ø¯ÙˆØ± Ø¹Ù„Ù‰: ${players[currentPlayer]} (${currentPlayer})`;
    }

    function resetGame() {
        document.getElementById("gameScreen").style.display = "none";
        document.getElementById("startScreen").style.display = "block";
    }
</script>

</body>
</html>